<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_move_form_inherit_bmo_sale" model="ir.ui.view">
        <field name="name">account.move.inherit.bmo_sale</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_move_form"/>
        <field name="arch" type="xml">
            <!-- Auto-complete could be done from either a Inv either a Slae order -->
            <field name="ref" position="after">
                <field name="purchase_id" invisible="1" readonly="state != 'draft'"/>
                <label for="sale_customer_inv_id" string="Auto-Complete" class="oe_edit_only" invisible="state != 'draft' or move_type != 'out_invoice'" />
                <field name="sale_customer_inv_id" nolabel="1" invisible="state != 'draft' or move_type != 'out_invoice'" readonly="state != 'draft'" class="oe_edit_only" domain="[('partner_id','=',partner_id), ('is_show','=',True)]" placeholder="Select a Sale order or an old Inv" context="{'show_total_amount': True}" options="{'no_create': True, 'no_open': True}"/>
            </field>
        </field>
    </record>
</odoo>
